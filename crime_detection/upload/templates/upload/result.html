<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style type="text/css">
        .img_wrap {
            width: 300px;
            margin-top: 50px;
        }
        .img_wrap img {
            max-width: 100%;
        }

    </style>
    <script src='https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js'></script>
    <script type="text/javascript">
        
        var sel_file;

        $(document).ready(function() {
            $("#input_img").on("change", handleImgFileSelect);
        }); 

        function handleImgFileSelect(e) {
            var files = e.target.files;
            var filesArr = Array.prototype.slice.call(files);
            var fileSize = files[0]['size']
            console.log(fileSize)
            filesArr.forEach(function(f) {
                if(!f.type.match("image.*")) {
                    alert("이미지 파일만 업로드할 수 있습니다.");
                    return;
                }

                sel_file = f;

                var reader = new FileReader();
                reader.onload = function(e) {
                    $("#img").attr("src", e.target.result);
                }
                reader.readAsDataURL(f);
            });
        }
        

    </script>
</head>
<body>
    Hello World get방식: {{data}} <br>
    
    post_id = {{ id }} <br>
    post_name = {{ name }} <br>
    {{ img }} <br>
    {{upload_file_url}} <br>
    {{img_size}}
    
    <div>
        <div class="img_wrap">
            <img id= "{{ img }}" />
            <button id="input_img">업로드</button>
        </div>
    </div>
    
</body>
</html>
